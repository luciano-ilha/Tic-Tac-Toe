#!/usr/bin/env ruby

require_relative '../lib/board'
require_relative '../lib/game'
require_relative '../lib/players'

puts 'Are you ready for a game of Tic Tac Toe?'
print "\n"
print 'What is your name P1?: '
player1 = Players.new(gets.chomp.capitalize)
print "\n"
puts "Welcome #{player1.name}!!"
print "\n"
print 'What is your name P2?: '
player2 = Players.new(gets.chomp.capitalize)
print "\n"
puts "Nice to meet you #{player2.name}!"
print "\n"
game = Game.new(player1, player2)
puts 'This is the game board:'
print "\n"
game.game_board.display_board
print "\n"
puts "The first one to move will be #{$player_start[0].name}"
print "\n"
puts "youll be playing with #{$player_start[0].first_player_icon}."
print "\n"

loop do
  break if $not_the_end == false

  puts "#{$player_start[0].name} please make a move, choose from 1 to 9."

  game.game_on_p1

  break if $not_the_end == false

  puts "Now! #{$player_next[0].name}, it's your turn! Choose a move! Choose from 1 to 9 please."

  game.game_on_p2
end
